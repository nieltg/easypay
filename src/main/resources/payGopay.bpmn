<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_0vcjwxr" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="2.0.3">
  <bpmn:collaboration id="Collaboration_0ucnmy0">
    <bpmn:participant id="Participant_0py1545" name="payGopay" processRef="Process_1" />
    <bpmn:participant id="Participant_0thnko0" name="Gopay" processRef="Process_0898g6l" />
    <bpmn:participant id="Participant_0b34b16" name="Consumer" processRef="Process_1nhvcxs" />
    <bpmn:messageFlow id="MessageFlow_04jsm76" name="Receive QRCode" sourceRef="Participant_0thnko0" targetRef="IntermediateThrowEvent_01rz2pq" />
    <bpmn:messageFlow id="MessageFlow_18g67om" name="Send Request for QRCode" sourceRef="IntermediateThrowEvent_1buby93" targetRef="Participant_0thnko0" />
    <bpmn:messageFlow id="MessageFlow_1bz1nsr" name="Send PaymentID and QRCode" sourceRef="IntermediateThrowEvent_1gtuxza" targetRef="Participant_0b34b16" />
    <bpmn:messageFlow id="MessageFlow_0a9a0ci" name="Receive PaymentStatus" sourceRef="Participant_0thnko0" targetRef="IntermediateThrowEvent_127wmce" />
    <bpmn:messageFlow id="MessageFlow_1n41xre" name="Send PaymentStatus" sourceRef="EndEvent_1n99pxz" targetRef="Participant_0b34b16" />
  </bpmn:collaboration>
  <bpmn:process id="Process_1" isExecutable="true">
    <bpmn:sequenceFlow id="SequenceFlow_0ias0e7" sourceRef="IntermediateThrowEvent_1buby93" targetRef="IntermediateThrowEvent_01rz2pq" />
    <bpmn:sequenceFlow id="SequenceFlow_1j9b3u1" sourceRef="StartEvent_1" targetRef="Task_0cfnasz" />
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_1j9b3u1</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_0xhbfod" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_19x3dtf" sourceRef="Task_15wbtum" targetRef="IntermediateThrowEvent_1buby93" />
    <bpmn:sequenceFlow id="SequenceFlow_1xswmj5" sourceRef="IntermediateThrowEvent_01rz2pq" targetRef="Task_02fnhjw" />
    <bpmn:sequenceFlow id="SequenceFlow_1pzhk8w" sourceRef="Task_0cfnasz" targetRef="Task_15wbtum" />
    <bpmn:task id="Task_15wbtum" name="InitGopay">
      <bpmn:incoming>SequenceFlow_1pzhk8w</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_19x3dtf</bpmn:outgoing>
    </bpmn:task>
    <bpmn:intermediateThrowEvent id="IntermediateThrowEvent_1buby93" name="requestQRCode">
      <bpmn:incoming>SequenceFlow_19x3dtf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ias0e7</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1q7kjhi" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="IntermediateThrowEvent_01rz2pq" name="receiveQRCode">
      <bpmn:incoming>SequenceFlow_0ias0e7</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1acg0cw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xswmj5</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1w6m8n4" />
    </bpmn:intermediateCatchEvent>
    <bpmn:task id="Task_02fnhjw" name="Check QRCode">
      <bpmn:incoming>SequenceFlow_1xswmj5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zl56fu</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="ExclusiveGateway_05tt9w1">
      <bpmn:incoming>SequenceFlow_0zl56fu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1acg0cw</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_03hjli3</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0zl56fu" sourceRef="Task_02fnhjw" targetRef="ExclusiveGateway_05tt9w1" />
    <bpmn:sequenceFlow id="SequenceFlow_1acg0cw" sourceRef="ExclusiveGateway_05tt9w1" targetRef="IntermediateThrowEvent_01rz2pq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">else</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:intermediateThrowEvent id="IntermediateThrowEvent_1gtuxza" name="sendIDQRCode">
      <bpmn:incoming>SequenceFlow_03hjli3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wv6g1o</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1yg8zgn" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="SequenceFlow_03hjli3" sourceRef="ExclusiveGateway_05tt9w1" targetRef="IntermediateThrowEvent_1gtuxza">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">qrcodeID==TRUE</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_04l05mj" sourceRef="Task_0cfnasz" targetRef="IntermediateThrowEvent_1u2zk2j" />
    <bpmn:sequenceFlow id="SequenceFlow_1hst5fz" sourceRef="IntermediateThrowEvent_1u2zk2j" targetRef="Task_03mzhpw" />
    <bpmn:intermediateCatchEvent id="IntermediateThrowEvent_1u2zk2j" name="3 hours">
      <bpmn:incoming>SequenceFlow_04l05mj</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1hst5fz</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P3H</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1wv6g1o" sourceRef="IntermediateThrowEvent_1gtuxza" targetRef="IntermediateThrowEvent_127wmce" />
    <bpmn:intermediateCatchEvent id="IntermediateThrowEvent_127wmce" name="receivePaymentStatus">
      <bpmn:incoming>SequenceFlow_1wv6g1o</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1rwy4bg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0s5dht2</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_0le4ixi" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0s5dht2" sourceRef="IntermediateThrowEvent_127wmce" targetRef="Task_0q0bjcv" />
    <bpmn:task id="Task_0cfnasz" name="Generate PaymentID">
      <bpmn:incoming>SequenceFlow_1j9b3u1</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pzhk8w</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_04l05mj</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Task_03mzhpw" name="Payment Timeout">
      <bpmn:incoming>SequenceFlow_1hst5fz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0pi9t17</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Task_0q0bjcv" name="Check PaymentStatus">
      <bpmn:incoming>SequenceFlow_0s5dht2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gklkzy</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1ipejua">
      <bpmn:incoming>SequenceFlow_0gklkzy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1rwy4bg</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_041187d</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0gklkzy" sourceRef="Task_0q0bjcv" targetRef="ExclusiveGateway_1ipejua" />
    <bpmn:sequenceFlow id="SequenceFlow_1rwy4bg" sourceRef="ExclusiveGateway_1ipejua" targetRef="IntermediateThrowEvent_127wmce">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">else</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ito8ub">
      <bpmn:incoming>SequenceFlow_041187d</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0pi9t17</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xht4ym</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_041187d" sourceRef="ExclusiveGateway_1ipejua" targetRef="ExclusiveGateway_0ito8ub">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">paymentStatus==TRUE</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0pi9t17" sourceRef="Task_03mzhpw" targetRef="ExclusiveGateway_0ito8ub" />
    <bpmn:sequenceFlow id="SequenceFlow_1xht4ym" sourceRef="ExclusiveGateway_0ito8ub" targetRef="EndEvent_1n99pxz" />
    <bpmn:endEvent id="EndEvent_1n99pxz" name="sendPaymentStatus">
      <bpmn:incoming>SequenceFlow_1xht4ym</bpmn:incoming>
      <bpmn:messageEventDefinition messageRef="Message_16okqiq" />
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:process id="Process_0898g6l" isExecutable="false" />
  <bpmn:process id="Process_1nhvcxs" isExecutable="false" />
  <bpmn:message id="Message_1q7kjhi" name="requestQRCode" />
  <bpmn:message id="Message_1w6m8n4" name="receiveQRCode" />
  <bpmn:message id="Message_1yg8zgn" name="sendIDQRCode" />
  <bpmn:message id="Message_0le4ixi" name="receivePaymentStatus" />
  <bpmn:message id="Message_16okqiq" name="sendPaymentStatus" />
  <bpmn:message id="Message_0xhbfod" name="paymentRequest" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0ucnmy0">
      <bpmndi:BPMNShape id="Participant_0py1545_di" bpmnElement="Participant_0py1545">
        <dc:Bounds x="307" y="235" width="1212" height="247" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1lb21xr_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="412" y="277" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="IntermediateThrowEvent_01on8zm_di" bpmnElement="IntermediateThrowEvent_1buby93">
        <dc:Bounds x="728" y="277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="707" y="247" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1j9b3u1_di" bpmnElement="SequenceFlow_1j9b3u1">
        <di:waypoint x="448" y="295" />
        <di:waypoint x="474" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0thnko0_di" bpmnElement="Participant_0thnko0">
        <dc:Bounds x="307" y="523" width="1212" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ias0e7_di" bpmnElement="SequenceFlow_0ias0e7">
        <di:waypoint x="764" y="295" />
        <di:waypoint x="786" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1ufzc1n_di" bpmnElement="IntermediateThrowEvent_01rz2pq">
        <dc:Bounds x="786" y="277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="765" y="320" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_04jsm76_di" bpmnElement="MessageFlow_04jsm76">
        <di:waypoint x="804" y="523" />
        <di:waypoint x="804" y="313" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="809" y="495" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_18g67om_di" bpmnElement="MessageFlow_18g67om">
        <di:waypoint x="746" y="313" />
        <di:waypoint x="746" y="523" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="671" y="491" width="70" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_15wbtum_di" bpmnElement="Task_15wbtum">
        <dc:Bounds x="603" y="255" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_19x3dtf_di" bpmnElement="SequenceFlow_19x3dtf">
        <di:waypoint x="703" y="295" />
        <di:waypoint x="728" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateThrowEvent_0gy3ezl_di" bpmnElement="IntermediateThrowEvent_1gtuxza">
        <dc:Bounds x="1032" y="277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1011" y="320" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1xswmj5_di" bpmnElement="SequenceFlow_1xswmj5">
        <di:waypoint x="822" y="295" />
        <di:waypoint x="844" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_02fnhjw_di" bpmnElement="Task_02fnhjw">
        <dc:Bounds x="844" y="255" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1pzhk8w_di" bpmnElement="SequenceFlow_1pzhk8w">
        <di:waypoint x="574" y="295" />
        <di:waypoint x="603" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_05tt9w1_di" bpmnElement="ExclusiveGateway_05tt9w1" isMarkerVisible="true">
        <dc:Bounds x="966" y="270" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0zl56fu_di" bpmnElement="SequenceFlow_0zl56fu">
        <di:waypoint x="944" y="295" />
        <di:waypoint x="966" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1acg0cw_di" bpmnElement="SequenceFlow_1acg0cw">
        <di:waypoint x="991" y="270" />
        <di:waypoint x="991" y="248" />
        <di:waypoint x="804" y="248" />
        <di:waypoint x="804" y="277" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_03hjli3_di" bpmnElement="SequenceFlow_03hjli3">
        <di:waypoint x="1016" y="295" />
        <di:waypoint x="1032" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0b34b16_di" bpmnElement="Participant_0b34b16">
        <dc:Bounds x="307" y="134" width="1213" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1bz1nsr_di" bpmnElement="MessageFlow_1bz1nsr">
        <di:waypoint x="1050" y="277" />
        <di:waypoint x="1050" y="194" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="959" y="202" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_04l05mj_di" bpmnElement="SequenceFlow_04l05mj">
        <di:waypoint x="524" y="335" />
        <di:waypoint x="524" y="405" />
        <di:waypoint x="635" y="405" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_0gq4x4a_di" bpmnElement="IntermediateThrowEvent_1u2zk2j">
        <dc:Bounds x="635" y="387" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="634" y="430" width="38" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_03mzhpw_di" bpmnElement="Task_03mzhpw">
        <dc:Bounds x="844" y="365" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1hst5fz_di" bpmnElement="SequenceFlow_1hst5fz">
        <di:waypoint x="671" y="405" />
        <di:waypoint x="844" y="405" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1wv6g1o_di" bpmnElement="SequenceFlow_1wv6g1o">
        <di:waypoint x="1068" y="295" />
        <di:waypoint x="1084" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_0v2kbfn_di" bpmnElement="IntermediateThrowEvent_127wmce">
        <dc:Bounds x="1084" y="277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1059" y="339" width="86" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0a9a0ci_di" bpmnElement="MessageFlow_0a9a0ci">
        <di:waypoint x="1102" y="523" />
        <di:waypoint x="1102" y="313" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1110" y="489" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_0q0bjcv_di" bpmnElement="Task_0q0bjcv">
        <dc:Bounds x="1141" y="255" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0s5dht2_di" bpmnElement="SequenceFlow_0s5dht2">
        <di:waypoint x="1120" y="295" />
        <di:waypoint x="1141" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_1hsvoht_di" bpmnElement="Task_0cfnasz">
        <dc:Bounds x="474" y="255" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ipejua_di" bpmnElement="ExclusiveGateway_1ipejua" isMarkerVisible="true">
        <dc:Bounds x="1262" y="270" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0gklkzy_di" bpmnElement="SequenceFlow_0gklkzy">
        <di:waypoint x="1241" y="295" />
        <di:waypoint x="1262" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1rwy4bg_di" bpmnElement="SequenceFlow_1rwy4bg">
        <di:waypoint x="1287" y="270" />
        <di:waypoint x="1287" y="244" />
        <di:waypoint x="1102" y="244" />
        <di:waypoint x="1102" y="277" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ito8ub_di" bpmnElement="ExclusiveGateway_0ito8ub" isMarkerVisible="true">
        <dc:Bounds x="1333" y="270" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_041187d_di" bpmnElement="SequenceFlow_041187d">
        <di:waypoint x="1312" y="295" />
        <di:waypoint x="1333" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0pi9t17_di" bpmnElement="SequenceFlow_0pi9t17">
        <di:waypoint x="944" y="405" />
        <di:waypoint x="1358" y="405" />
        <di:waypoint x="1358" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1xht4ym_di" bpmnElement="SequenceFlow_1xht4ym">
        <di:waypoint x="1383" y="295" />
        <di:waypoint x="1404" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0ctgk0m_di" bpmnElement="EndEvent_1n99pxz">
        <dc:Bounds x="1404" y="277" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1380" y="320" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1n41xre_di" bpmnElement="MessageFlow_1n41xre">
        <di:waypoint x="1422" y="277" />
        <di:waypoint x="1422" y="194" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1425" y="201" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
